{
  "name": "code-comparison",
  "type": "registry:ui",
  "files": [
    {
      "path": "magicui/code-comparison.tsx",
      "content": "\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { codeToHtml } from \"shiki\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { useTheme } from \"next-themes\";\n\ninterface CodeComparisonProps {\n  beforeCode: string;\n  afterCode: string;\n  language: string;\n  filename: string;\n  lightTheme: string;\n  darkTheme: string;\n}\n\nexport default function CodeComparison({\n  beforeCode,\n  afterCode,\n  language,\n  filename,\n  lightTheme,\n  darkTheme,\n}: CodeComparisonProps) {\n  const { theme, systemTheme } = useTheme();\n  const [highlightedBefore, setHighlightedBefore] = useState(\"\");\n  const [highlightedAfter, setHighlightedAfter] = useState(\"\");\n\n  useEffect(() => {\n    const currentTheme = theme === \"system\" ? systemTheme : theme;\n    const selectedTheme = currentTheme === \"dark\" ? darkTheme : lightTheme;\n\n    async function highlightCode() {\n      const before = await codeToHtml(beforeCode, {\n        lang: language,\n        theme: selectedTheme,\n      });\n      const after = await codeToHtml(afterCode, {\n        lang: language,\n        theme: selectedTheme,\n      });\n      setHighlightedBefore(before);\n      setHighlightedAfter(after);\n    }\n\n    highlightCode();\n  }, [\n    theme,\n    systemTheme,\n    beforeCode,\n    afterCode,\n    language,\n    lightTheme,\n    darkTheme,\n  ]);\n\n  const renderCode = (code: string, highlighted: string) => {\n    if (highlighted) {\n      return (\n        <div\n          className=\"h-full font-mono text-sm [&>pre]:h-full [&>pre]:bg-[#1e1e1e] [&>pre]:p-4 [&_code]:whitespace-pre-wrap [&_code]:break-all\"\n          dangerouslySetInnerHTML={{ __html: highlighted }}\n        />\n      );\n    } else {\n      return (\n        <pre className=\"h-full whitespace-pre-wrap break-all bg-background p-4 font-mono text-sm text-foreground\">\n          {code}\n        </pre>\n      );\n    }\n  };\n\n  return (\n    <div className=\"mx-auto w-full max-w-5xl\">\n      <Card className=\"w-full\">\n        <CardContent className=\"h-full p-0\">\n          <div className=\"relative grid h-full overflow-hidden rounded-md md:grid-cols-2\">\n            <div className=\"h-full border-r border-neutral-200 dark:border-neutral-800\">\n              <div className=\"flex items-center bg-[#1e1e1e] p-2 font-mono text-sm text-white\">\n                <svg\n                  className=\"mr-2 h-4 w-4\"\n                  fill=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path d=\"M3 3h18v18H3V3zm16 16V5H5v14h14zM7 7h4v4H7V7zm6 0h4v4h-4V7zm-6 6h4v4H7v-4zm6 0h4v4h-4v-4z\" />\n                </svg>\n                {filename}\n                <span className=\"ml-auto\">before</span>\n              </div>\n              {renderCode(beforeCode, highlightedBefore)}\n            </div>\n            <div className=\"h-full\">\n              <div className=\"flex items-center bg-[#1e1e1e] p-2 font-mono text-sm text-white\">\n                <svg\n                  className=\"mr-2 h-4 w-4\"\n                  fill=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path d=\"M3 3h18v18H3V3zm16 16V5H5v14h14zM7 7h4v4H7V7zm6 0h4v4h-4V7zm-6 6h4v4H7v-4zm6 0h4v4h-4v-4z\" />\n                </svg>\n                {filename}\n                <span className=\"ml-auto\">after</span>\n              </div>\n              {renderCode(afterCode, highlightedAfter)}\n            </div>\n            <div className=\"absolute left-1/2 top-1/2 flex h-8 w-8 -translate-x-1/2 -translate-y-1/2 items-center justify-center rounded-md bg-neutral-700 text-sm text-white\">\n              VS\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n",
      "type": "registry:ui",
      "target": ""
    }
  ]
}